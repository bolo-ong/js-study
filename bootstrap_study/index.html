<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="main.css" rel="stylesheet" type="text/css" media="screen, projection"/>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  </head>
  <body>
    
      <div class="black-bg">
        <div class="white-bg">
          <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
          <form action="success.html">
            <div class="my-3">
              <input type="text" class="form-control" id="email">
             </div>
             <div class="my-3">
               <input type="password" class="form-control" id="pw">
               <P id="pw-length-check">6ì ì´ìƒìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš”</P>
             </div>
             <button type="submit" class="btn btn-primary">ì „ì†¡</button>
             <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
          </form> 
        </div>
      </div>

      <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <div class="navbar-brand-box"><span class="navbar-brand">Cat#</span></div>
          <span class="badge bg-dark">Dark ğŸ”„</span>
          <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </nav>
      <div class="flow-bar"></div>

      <ul class="list-group">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A fourth item</li>
        <li class="list-group-item">And a fifth one</li>
      </ul> 

      <div class="main-bg">
        <h4>Cat on Sale</h4>
        <button class="modal-login-button">ë¡œê·¸ì¸</button>
      </div>


      <div class="lorem" style="width: 100px; height: 100px; overflow-y: scroll;">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. In suscipit nibh dignissim, molestie eros sit amet, malesuada neque. Sed eget dui in ante ultricies porttitor aliquet semper erat. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
      </div>


      <div style="height: 1000px;"></div>

      <div class="alert alert-danger">
        <span id="sale-time">5ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆì¦ì •!</span>
      </div>

      <div style="overflow:hidden">
        <div class="slide-container">
          <div class="slide-box">
            <img class="cat" src="cat1.jpeg">
          </div>
          <div class="slide-box">
            <img class="cat" src="cat2.jpeg">
          </div>
          <div class="slide-box">
            <img class="cat" src="cat3.jpeg">
          </div>
        </div>
      </div>

      <div class ="slide-button">
        <button class="slide-previous">ì´ì „</button>
        <button class="slide-next">ë‹¤ìŒ</button>
        <button class="slide-1">1</button>
        <button class="slide-2">2</button>
        <button class="slide-3">3</button>
      </div>
      <script>

        //flow-bar ìŠ¤í¬ë¡¤ë°”ë§Œí¼ ì§„í–‰ë„ ë³´ì—¬ì£¼ê¸°
        window.addEventListener('scroll', 
        function(){

          let htmlScrollTop = document.querySelector('html').scrollTop
          let htmlClientHeight = document.querySelector('html').clientHeight
          let htmlHeight = document.querySelector('html').scrollHeight
          let htmlScrollTopPercent = ((htmlScrollTop + htmlClientHeight) / htmlHeight)*100
          
          document.querySelector('.flow-bar').style.width = htmlScrollTopPercent+'%'
        })
        
        //ë¡œë ˜ì‡ì„¬ ìŠ¤í¬ë¡¤ ë‹¤ ë‚´ë¦¬ë©´ ê²½ê³ ì°½ ë„ìš°ê¸°
      {let divLorem = document.querySelector('.lorem')
       let eventOn = false
        divLorem.addEventListener('scroll', 
        function(){
          if(divLorem.scrollHeight - divLorem.scrollTop == divLorem.clientHeight && eventOn == false){
            alert('End')
            eventOn = true
          }
        })
      }

        //ìŠ¤í¬ë¡¤ë°” ì´ë™ì‹œ ë„¤ë¹„ê²Œì´ì…˜ë°” í…ìŠ¤íŠ¸ ì‚¬ì´ì¦ˆ ë³€ê²½
        window.addEventListener('scroll', 
        function(){
          if(window.scrollY >= 100){
            document.querySelector('.navbar-brand').style.fontSize = '20px'
          }
          else if(window.scrollY < 100){
            document.querySelector('.navbar-brand').style.fontSize = '30px'
          }
        })

        //ìºëŸ¬ì…€
      {let slideContainer = document.querySelector('.slide-container')
       let carouselNum = 0

        document.querySelector('.slide-1').addEventListener('click', 
        function(){
          carouselNum = 0
          slideContainer.style.transform = 'translateX(0vw)'
        })

        document.querySelector('.slide-2').addEventListener('click', 
        function(){
          carouselNum = 1
          slideContainer.style.transform = 'translateX(-100vw)'
        })

        document.querySelector('.slide-3').addEventListener('click', 
        function(){
          carouselNum = 2
          slideContainer.style.transform = 'translateX(-200vw)'
        })

        document.querySelector('.slide-next').addEventListener('click', 
        function(){

          let lastNum = parseInt(document.querySelector('.slide-button :last-child').textContent)

          carouselNum++
          if(carouselNum >= lastNum){
            carouselNum = lastNum - 1
          }
          else{slideContainer.style.transform = 'translateX(-' + carouselNum + '00vw)'
          }
        })

        document.querySelector('.slide-previous').addEventListener('click', 
        function(){
          carouselNum--
          if(carouselNum < 0){
            carouselNum = 0
          }
          else{
            slideContainer.style.transform = 'translateX(-' + carouselNum + '00vw)'
          }
        })
      }

      //5ì´ˆ ì¹´ìš´íŠ¸ ë‹¤ìš´  
      {let sec = 5
        function saleTimer(){
          sec--
          if(sec >= 0){
          document.querySelector('.alert :nth-child(1)').innerHTML = sec+'ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆì¦ì •!'
        }else{
          document.querySelector('.alert').style.display = 'none'
        }}
      } 
        setInterval(saleTimer,1000);

        //ë¡œê·¸ì¸ íŒì—… ê²½ê³ ì°½ ìƒì„±
        document.getElementsByClassName('btn-primary')[0].addEventListener('click', 
        function(e){

          let inputEmail = document.querySelectorAll('#email')[0].value
          let inputPw = document.querySelectorAll('#pw')[0].value

          if(inputEmail === ''){
            alert('emailì„ ì…ë ¥í•˜ì„¸ìš”');
            e.preventDefault();
          }
          else if(/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(inputEmail) == false){
            alert('emailí˜•ì‹ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš”')
            e.preventDefault();
          }
          else if(inputPw === ''){
            alert('pwì„ ì…ë ¥í•˜ì„¸ìš”');
            e.preventDefault();
          }
          else if(inputPw.length < 6){            
            alert('6ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”')
            e.preventDefault();
          }
          else if(/[A-Z]/.test(inputPw) == false){
            alert('pwì— ëŒ€ë¬¸ìë¥¼ ë„£ì–´ ì…ë ¥í•˜ì„¸ìš”')
            e.preventDefault();
          }
        })

        //ë¹„ë°€ë²ˆí˜¸ ì‹¤ì‹œê°„ìœ¼ë¡œ ìë¦¬ìˆ˜ ì²´í¬í•´ì„œ í…ìŠ¤íŠ¸ë‘ ìƒ‰ ë³€ê²½
        document.querySelector('#pw').addEventListener('input', function(){
          if(document.querySelectorAll('#pw')[0].value.length >= 6){
            document.querySelector('#pw-length-check').innerHTML = '6ì ì´ìƒì…ë‹ˆë‹¤'
            document.querySelector('#pw-length-check').style.color = 'green'
          }else if(document.querySelectorAll('#pw')[0].value.length < 6){
            document.querySelector('#pw-length-check').innerHTML = '6ì ë¯¸ë§Œì…ë‹ˆë‹¤'
            document.querySelector('#pw-length-check').style.color = 'red'
          }
        })

        //ë„¤ë¹„ë°” ë©”ë‰´íƒ­ í† ê¸€
        document.querySelectorAll('.navbar-toggler')[0].addEventListener('click' ,
        function(){
          document.querySelectorAll('.list-group')[0].classList.toggle('show');
        })

        //ë„¤ë¹„ë°” ë©”ë‰´íƒ­ í† ê¸€ ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
        document.getElementsByClassName('navbar-toggler')[0].addEventListener('click', 
        function(){
          document.getElementsByClassName('list-group')[0].classList.toggle('show-list-group');
        })

        //ë¡œê·¸ì¸ ëª¨ë‹¬
        document.querySelectorAll('.modal-login-button')[0].addEventListener('click', 
        function(){
          document.querySelectorAll('.black-bg')[0].classList.add('show-modal');
        })
        document.getElementById('close').addEventListener('click', 
        function(){
          document.getElementsByClassName('black-bg')[0].classList.remove('show-modal');
        })

        // //ë‹¤í¬ëª¨ë“œ í…ìŠ¤íŠ¸ë¥¼ í™•ì¸í•´ì„œ ë³€ê²½í•˜ëŠ” ë°©ë²•
        // document.getElementsByClassName('badge bg-dark')[0].addEventListener('click',
        // function(){
        //   const darkMode = document.getElementsByClassName('badge bg-dark')[0].textContent
        //   if(darkMode === 'Dark ğŸ”„'){
        //     document.getElementsByClassName('badge bg-dark')[0].innerHTML = 'Light ğŸ”„'
        //   }
        //   else if(darkMode === 'Light ğŸ”„'){
        //     document.getElementsByClassName('badge bg-dark')[0].innerHTML = 'Dark ğŸ”„'
        //   }
        // })

        //ë‹¤í¬ëª¨ë“œ í´ë¦­ íšŸìˆ˜ë¥¼ í™•ì¸í•´ì„œ ë³€ê²½í•˜ëŠ” ë°©ë²•
      {let clickCount = 0;
        document.getElementsByClassName('badge bg-dark')[0].addEventListener('click', 
        function(){
          clickCount++;
        })
        document.getElementsByClassName('badge bg-dark')[0].addEventListener('click', 
        function(){
          if(clickCount % 2){
            document.getElementsByClassName('badge bg-dark')[0].innerHTML = 'Light ğŸ”„'
          }
          else if(!(clickCount % 2)){
            document.getElementsByClassName('badge bg-dark')[0].innerHTML = 'Dark ğŸ”„'
          }
        })
      }

      </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
  </body>
</html>